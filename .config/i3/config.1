# Ustawienie tapety
$win+t $exec 'source ~/bin/functions && tapeta-set'

$win+y $exec ~/bin/cabl

$alt+Return $exec i3run -i floatterm -s -e '$term -n floatterm'
$alt+Shift+Return $exec i3run -i cterm -e '$term -n cterm'
$alt+Control+Return $exec $term -n tiledterm

# $alt+r $exec gmrun
$alt-q kill
$alt+f $exec thunar

# włączenie zewnętrznego monitora
# exec xrandr --output DP2 --right-of LVDS1

$exec xbindkeys  # uruchamia xbindkeys
$exec --no-startup-id nextcloud  # uruchomienie nextclod
$exec ~/bin/clipmenud  # clipmenud
$exec dunst  # Powiadomienia
$exec nm-applet  # Uruchamia network manager applet
$exec redshift-gtk -l 52.284398:20.995581  # Uruchomienie redshift
$exec hsetroot -solid '#000000'  # ustawia ekran pulpitu na #000000
$exec qtpass
$exec gnome-session
$exec gnome-keyring-saemon
$exec compton --xrender-sync-fence
$exec xset -b
$exec volumeicon
$exec pulseaudio
$exec variety
$exec sudo acpid
# exec --no-startup-id clipit  # uruchomienie manadżera copy / paste
# exec --no-startup-id xbanish  # Ukrywanie kursora
# exec --no-startup-id pamac-tray  # Uruchamia pamac-tray
# exec --no-startup-id gnome-pomodoro  # uruchamia gnome-pomodoro
$exec udiskie --tray --use-udisks2  # montowanie dysków

# dual monitor
# exec --no-startup-id dual-screen
# exec --no-startup-id xrandr --output LVDS1 --auto --output VGA1 --auto --left-of VGA1
# exec xrandr --output LVDS1 --mode 1366x768 --primary --output VGA1 --mode 1920x1080
# exec xrandr --output LVDS-1 --mode 1366x768 --primary --output VGA-1 --mode 1920x1080 --left-of LVDS-1

# assign [instance="te1"] $ws4
# exec $term -n te1
# exec $term -n te1
# exec $term -n te1

# exec --no-startup-id "i3-msg 'workspace 4; append_layout .config/i3/workspace-4.jso

assign [instance="ws1"] $ws1
# exec $term --name ws1
# exec zathura ~/Nextcloud/Books/Python/Python\ Wprowadzenie.pdf
# [instance="ws1"]

assign [class="Firefox"] $ws2
# exec --no-startup-id firefox

assign [instance="tz2"] $ws3
# exec $term --name tz2
# exec $term --name tz2 'vim ~/Nextcloud/Notes/Notes.md'
$exec i3-msg workspace $ws3
$exec $term -n=tz2 -e tmux new "vim -c :VimwikiIndex"
# exec --no-startup-id $term --name=tz2 -e 'tmux new "vim ~/Nextcloud/Notes/Notes.md"'
# exec --no-startup-id qutebrowser ~/Nextcloud/Notes/Notes.html

# # --- Pływające okna --- # #
# assign [instance="notatki"] $ws5
# $exec $term -n=notatki -e tmux new "ranger ~/Nextcloud/Notes/"

assign [instance="vlc"] $ws7

# assign [class="Nemo"] $ws5
# exec nemo

# # --- Skróty klawiszowe --- # #
# Blokowanie ekranu
# $bind Ctrl+$win+l exec i3-msg workspace 1 && i3lock -c 111111
$win+Ctrl+l exec i3-msg workspace $ws10 && i3lock -c 283339 -u -i ~/Pictures/accessdenied.png
$win+x exec ~/bin/lock
# $bind $win+l exec i3-msg workspace 1 && i3lock -c 111111
$win+Shift+s $exe sudo systemctl suspend

$win+c exec ~/bin/clipmenu

for_window [title="pomoc.pdf"] floating enable border pixel 1
# for_window [title="/home/red/Documents/pomoc.pdf"] resize set 1024 700
$win+F1 exec zathura ~/Documents/pomoc.pdf
# $bind $win+F1 workspace 10, exec zathura ~/Documents/pomoc.pdf

# set $term st -f mono:pixelsize=1
# $bind $win+Return exec --no-startup-id /usr/local/bin/st -f mono:pixelsize=15
$win+Return exec --no-startup-id $term
# $bind $win+Return exec --no-startup-id /usr/local/bin/st -f mono:pixelsize=14
# $bind F12 exec --no-startup-id /usr/local/bin/st -f mono:pixelsize=15
# $bind F12 exec --no-startup-id $term --config ~/.config/termite/config-opacity
# $bind F12 exec --no-startup-id /usr/local/bin/st
# $bind F12 $exe ~/bin/st
# $bind $win+Return exec --no-startup-id gnome-terminal --hide-menubar

# ustawienie specjalnych klawiszy audio
$win+Ctrl+m $exec $term -e 'alsamixer'
$bind XF86MonBrightnessUp $exec light -A 5
$bind XF86MonBrightnessDown $exec light -U 5
$bind XF86AudioMute exec --no-startup-id /usr/bin/pactl set-sink-mute 1 toggle
$bind XF86AudioRaiseVolume exec --no-startup-id /usr/bin/pactl set-sink-volume 1 +5%
$bind XF86AudioLowerVolume exec --no-startup-id /usr/bin/pactl set-sink-volume 1 -5%
$bind XF86Launch1 exec --no-startup-id $term
$win+Right exec --no-startup-id /usr/bin/pactl set-sink-volume 1 +5%
$win+Left exec --no-startup-id /usr/bin/pactl set-sink-volume 1 -5%
$win+shift+plus exec "light -A 5"
$win+shift+minus exec "light -U 5"
$win+Up exec "light -A 5"
$win+Down exec "light -U 5"
$win+Shift+Up exec "light -S 100"
$win+Shift+Down exec "light -S 0"

# Screenshot
$bind --release Print exec --no-startup-id scrot "$HOME/Pictures/%Y-%m-%d-%H-%M-$RANDOM.png"

#$bind $win+Shift+q kill
$win+q kill
$win+Tab workspace back_and_forth
$win+F4 exec sudo systemctl suspend && i3lock -u -c 000000 -i ~/Pictures/accessdenied.png 
$win+ctrl+s $exe sudo systemctl suspend
$win+F5 exec sudo systemctl restart NetworkManager
$win+F12 exec i3 exit
#$win+r exec gmrun
#$win+x exec --no-startup-id firefox

#$bind $win+d exec dmenu_run
$alt+Tab $exec rofi -show window -font "Terminus 10" -lines 6 -i -separator-style solid -opacity "90"
$win+d $exec rofi -show run -i -separator-style solid -opacity "90"

# scratchpad
# $win+Shift+minus move scratchpad
# $win+minus scratchpad show

$win+p [instance="python"] scratchpad show; [instance="python"] move position center
# $bind $win+shift+p resize shrink height 10 px or 10 ppt

$win+o [instance="dropdown"] scratchpad show; [instance="dropdown"] move position center
# $bind $win+shift+a resize shrink height 10 px or 10 ppt

$win+i [instance="gvim"] scratchpad show; [instance='gvim'] move position center

# $win+n [instance="notes"] scratchpad show; [instance="notes"] move position center

$win+s [instance="subl"] scratchpad show; [instance="subl"] move position center

$win+n [instance="todo"] scratchpad show; [instance="todo"] move position center

# Pod skrótem $win-n otwiera vimwiki/todo/inbox
for_window [instance="todo"] floating enable
for_window [instance="todo"] resize set 900 900
for_window [instance="todo"] move scratchpad
for_window [instance="todo"] border pixel 1
$exec $term -n=todo -e tmux new "vim ~/git/dot.files/vimwiki/todo/inbox.md"

for_window [instance="dropdwon"] floating enable
for_window [instance="dropdown"] resize set 855 555
for_window [instance="dropdown"] move scratchpad
for_window [instance="dropdown"] border pixel 1
# exec --no-startup-id $term --name=dropdown
$exec $term -n=dropdown -e tmux

# -e tmux
# $exec $term -n dropdown -f mono:pixelsize=15 -e tmux
# $exec $term --config ~/.config/termite/config-opacity --name=dropdown -e tmux

for_window [instance="python"] floating enable
for_window [instance="python"] resize set 800 400
for_window [instance="python"] move scratchpad
for_window [instance="python"] border pixel 1
# exec --no-startup-id $term -n python -f mono:pixelsize=15 -e ptpython
$exec $term -n=python -e ~/.local/bin/ptpython3

for_window [instance="gvim"] floating enable
# for_window [instance="gvim"] resize set 800 600
for_window [instance="gvim"] move scratchpad
for_window [instance="gvim"] border pixel 1
$exec gvim ~/Nextcloud/Notes

for_window [instance="subl"] floating enable
for_window [instance="subl"] resize set 1000 800
for_window [instance="subl"] move scratchpad
for_window [instance="subl"] border pixel 1
$exec subl

# for_window [instance="notes"] floating enable
# for_window [instance="notes"] resize set 800 400
# for_window [instance="notes"] move scratchpad
# for_window [instance="notes"] border pixel 1
# $exec termite --name=notes -e 'tmux new "vim ~/Nextcloud/Notes/Notes.md"'

# QtPass
for_window [instance="qtpass"] floating enable
for_window [instance="qtpass"] border pixel 1

# plus, minus, backslash, semicolon
# change focus
$win+h  focus left
$win+j  focus down
$win+k  focus up
$win+l  focus right

# move focused window
$win+Shift+h  move left
$win+Shift+j  move down
$win+Shift+k  move up
$win+Shift+l  move right

# przenieś worspace do monitora po prawej
$win+Shift+bracketleft  move workspace to output left
$win+Shift+bracketright move workspace to output right

# poruszanie się pomiędzy pulpitami
$win+Prior        workspace prev
$win+Next         workspace next
$win+Home         workspace $ws1
$win+End          workspace $ws10
$win+Shift+Home   move container to workspace $ws1
$win+Shift+End    move container to workspace $ws10
$win+Shift+Prior  move container to workspace prev
$win+Shift+Next   move container to workspace next


# split in horizontal orientation
$win+backslash              split h

# split in vertical orientation
$win+minus                  split v

# enter fullscreen mode for the focused container
$win+f                      fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
# $bind $win+s                      layout stacking
$win+w                      layout tabbed
$win+e                      layout toggle split

# Uruchamia menu (rofi)
$win+m                      exec ~/bin/menu

# Uruchomienie books (rofi)
$win+b                      exec ~/bin/books.sh

# toggle tiling / floating
$win+Shift+space            floating toggle

# change focus between tiling / floating windows
$win+space                  focus mode_toggle

# focus the parent container
$win+a                      focus parent

# focus the child container
# $bind $win+d                      focus child

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# switch to workspace
$win+1 workspace number 1  ;; exec notify-send -t 500 "[ 1 ]"
$win+2 workspace number 2  ;; exec notify-send -t 500 "[ 2 ]"
$win+3 workspace number 3  ;; exec notify-send -t 500 "[ 3 ]"
$win+4 workspace number 4  ;; exec notify-send -t 500 "[ 4 ]"
$win+5 workspace number 5  ;; exec notify-send -t 500 "[ 5 ]"
$win+6 workspace number 6  ;; exec notify-send -t 500 "[ 6 ]"
$win+7 workspace number 7  ;; exec notify-send -t 500 "[ 7 ]"
$win+8 workspace number 8  ;; exec notify-send -t 500 "[ 8 ]"
$win+9 workspace number 9  ;; exec notify-send -t 500 "[ 9 ]"
$win+0 workspace number 10 ;; exec notify-send -t 500 "[ 10 ]"

# move focused container to workspace
$win+Shift+1 move container to workspace number 1
$win+Shift+2 move container to workspace number 2
$win+Shift+3 move container to workspace number 3
$win+Shift+4 move container to workspace number 4
$win+Shift+5 move container to workspace number 5
$win+Shift+6 move container to workspace number 6
$win+Shift+7 move container to workspace number 7
$win+Shift+8 move container to workspace number 8
$win+Shift+9 move container to workspace number 9
$win+Shift+0 move container to workspace number 10

# reload the configuration file
$win+Shift+c                reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
$win+Shift+r                restart
# exit i3 (logs you out of your X session)
$win+Shift+e                exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# Shut down, restart and locking
$win+Escape mode "$mode_system"
set $mode_system (l)ock, (e)xit, (s)uspend, (r)eboot, (Shift+s)hutdown
mode "$mode_system" {
    $bind l exec --no-startup-id i3lock -u -i ~/Pictures/accessdenied.png
    $bind s exec --no-startup-id sudo systemctl suspend && i3lock -u -i ~/Pictures/accessdenied.png
    $bind e exec --no-startup-id i3 exit
    $bind r exec --no-startup-id sudo systemctl reboot
    $bind Shift+s exec --no-startup-id sudo halt -p

    # exit system mode: "Enter" or "Escape"
    $bind Return mode "default"
    $bind Escape mode "default"
}

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        $bind h resize shrink width 10 px or 10 ppt
        $bind j resize grow height 10 px or 10 ppt
        $bind k resize shrink height 10 px or 10 ppt
        $bind l resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        $bind Left resize shrink width 10 px or 10 ppt
        $bind Down resize grow height 10 px or 10 ppt
        $bind Up resize shrink height 10 px or 10 ppt
        $bind Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape or $win+r
        $bind Return mode "default"
        $bind Escape mode "default"
        $win+r mode "default"
}

$win+r mode "resize"


# bar {
        # status_command ~/bumblebee-status/bumblebee-status -m uptime kernel cpu memory sensors battery datetime -p disk.path=/home/red datetime.format="%Y.%m.%d %a %b, %H:%M" 
        # position top
        # workspace_buttons no
        ## font pango:Hack FontAwesome 8
        # font pango:Ubuntu Mono derivative Powerline 13
        ## mode hide
# }
# bar {
    # status_command i3blocks
    # position top
# }

exec --no-startup-id ~/bin/polybar example
# bar {
#        status_command ~/bumblebee-status/bumblebee-status -m cpu memory sensors battery bluetooth pasink pasource brightness datetime -p datetime.format="%Y.%m.%d %a %b, %H:%M"

#        #mode hide
#        position bottom
#        #font pango:Menlo Regular 14
#        font pango:Ubuntu Mono derivative Powerline 16
# }

# $bind $win+m bar mode toggle


exec --no-startup-id xautolock -time 10 -locker blurlock

set_from_resource $term_background background
set $i3_background #F9FAF9
for_window [class="(?i)gnome-calculator"] floating enable
for_window [window_role="(?i)pop-up"] floating enable
for_window [class="SimpleScreenRecorder"] floating enable
for_window [class="Peek"] floating enable

# uruchamiane chromium na obszarze roboczym #6
# assign [class="Chromium"] → 6
# for_window[class="Chromium"] fullscreen
# exec --no-startup-id /usr/bin/chromium

# uruchamia QOwnN"otes na obszarze roboczym #7
# assign [class="QOwnNotes"] → 7
# for_window [class="QOwnNotes"] fullscreen
# exec --no-startup-id QOwnNotes


